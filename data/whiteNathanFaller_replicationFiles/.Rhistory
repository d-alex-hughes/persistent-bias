dt3.8[ , .(se = calc_est_se(group, bills),
prop.st = .N/nrow(dt3.8)),
by = st][ , .(sum((se^2) * prop.st))]
dt3.8[ , .(se = calc_est_se(group, bills),
prop.st = .N/nrow(dt3.8)),
by = st][ , .(sum((se^2) * prop.st))][ , sqrt(V1)]
est_se
calc_est_se
?nls
?confint
a <- lm(1:100 ~ rnorm(100)*rbinom(n = 100,size = 1, .5))
summary(a)
confint(a)
install.packages("matrittr")
library(matrittr)
library(magrittr)
install.packages("magrittr")
detach(package:magrittr)
install.packages("magrittr")
install.packages("magrittr")
library(keyplayer)
q
q
g
g
g
class(g)
g
q
q
hist(difuse)
plot(difuse, degree(igraphNets$Strong))
class(.2)
?truehist
?truehist
?hist
?barplot
?table
?barplot
dev.off()
?expression
ls()
ls()
Networks
gd
names(Networks)
?geodist
ls()
sapply(x = ls(), class)
sapply(x = ls(), FUN = class)
sapply(ls(), class)
get("Networks")
sapply(get(ls()), class)
get(ls())
ls())
ls()
gd.best
names(Networks)
igraphNets
gd
Networks$Friendly
nom.df
nomd.best.connected(degree.vector = allNets.degree, slack = 1))
nomd.best.connected(degree.vector = allNets.degree, slack = 1)
gd
gd
allNets
gd
nom.df
inward
all
g.dist
)
g.dist == 1
g.dist
max(g.dist)
max(g.dist[g.dist != Inf])
nomd.folks
nomd.folks
nomd.folks
reach.list[[1]]
library(igraph)
doIt <- function(n = 100, sampSize = 10) {
g <- sample_pa(n, .1, m = 3)
samp <- sample(1:n, size = sampSize)
foo <- rep(NA, sampSize)
for(i in 1:length(samp)) {
foo[i] <- sample(neighbors(g, samp[i], mode = 'all'), size = 1)
}
return(mean(degree(g, mode = 'all')[samp] < degree(g, mode = 'all')[foo]))
}
reps = 100
df <- data.frame(matrix(data = unlist(replicate(reps, doIt())), nrow = reps, ncol = 2, byrow = T))
df$diff <- df[,2] - df[,1]
mean(df$diff)
doIt()
doIt()
reps = 100
df <- data.frame(matrix(data = unlist(replicate(reps, doIt())), nrow = reps, ncol = 2, byrow = T))
df$diff <- df[,2] - df[,1]
mean(df$diff)
df
load("~/Desktop/outputBeforeClass.Rdata")
ls()
class(real.targeting)
class(real.targeting1)
real.targeting1
real.targeting6[mode %in% c("best", "friend"), res]
real.targeting6[mode %in% c("best", "friend"), t.test(res ~ mode)]
g = igraphNets$Strong
neighbors(g, 1)
neighbors(g, "ama amissah 1")
coverage.targeting.simulation(n=2)
coverage.targeting.simulation(n=100)
samp
sampSize
samp
g
n=50
friend.of.target
neighbors(g, friend.of.target)
neighbors(g, 38)
neighbors(g, 16)
?neighbors
?adjacent_vertices
adjacent_vertices(g, friend.of.target)
unlist(adjacent_vertices(g, friend.of.target))
length(unlist(adjacent_vertices(g, friend.of.target)))
. + + . + > coverage.targeting.simulation()
coverage.targeting.simulation()
coverage.targeting.simulation(graph.type="real", graph.in=igraphNets$Strong, sampSize=5)
replicate(2, coverage.targeting.simulation(graph.type="real", graph.in=igraphNets$Strong, sampSize=5))
?rowMeans
class(res)
res
res[1,1]
res$random
str(res)
res$random
attr(res)
res[[1]])
res[[1]]
res[1]
res[1,]
res[,1]
res[,2]
unlist(res)
res
res
unlist(res)
res
boxplot(res ~ mode, res)
)
coverage.targeting.simulation()
coverage.targeting.simulation(graph.type="real", graph.in=igraphNets$Strong, sampSize=5)
coverage.targeting.simulation(graph.type="real", graph.in=igraphNets$Strong, sampSize=5)
coverage.targeting.simulation(graph.type="real", graph.in=igraphNets$Strong, sampSize=5)
replicate(2, coverage.targeting.simulation(graph.type="real", graph.in=igraphNets$Strong, sampSize=5))
res
str(res)
res[1,]
res[2,]
res[3,]
res
res
res[1,]
res
t.test(res$r, res$f)
t.test(res$r, res$b)
t.test(res$f, res$b)
res
apply(res, 2, mean)
t.test(f, b, res)
t.test(f, b, data = res)
t.test(res$f, res$b)
q)
q("no")
q("no")
d
d
d
d
d
ate
q("no")
d
d
d
d
d
ate
ate
ate
d
ate
var(d$donation[d$treatment == 0])
var(d$donation[d$treatment == 1])
ks.test(d$donations, dnorm)
ks.test(d$donations, "dnorm")
?ks.test
ks.test(d$donations, "pnorm")
d3
q("no")
df
df
df
df
df
dt
dt
df
?aggregate
)
q("no")
dt[c(1:10, 90:100), ]
?p.adjust
q("no")
ls()
head(df)
ls()
res
res
ri.treat
ri()
ri()
ri.treat
ri.treat
ri()
d
hist(ri.ates)
se.null
se.null2
se.null == se.null2
mean(ri.ates)
hist(ri.ates)
ks.test(ri.ates, dnorm)
se.null
d
d
d
d
d
d
table(d$Y)
d
res
hist(res)
gg.se
d$Y[1:100]
se
se * 100
0.02
.002 / se
p.value(rescaled.d.in.d, dist = res2)
ate
d
summary(lm(y1_nts ~ incentive, data = d))
foo()
foo()
ate
res
ate
d
ate
foo()
foo()
summary(m1)
summary(m2)
d
summary(lm(y1_nts ~ incentive, data = d))
q("no")
library(data.table)dat <- data.frame(y       = rep(NA, 400),                  name    = rep(NA, 400),                  grammar = rep(NA, 400) )dat$y <- c(rep(1, 52), rep(0, 48),           rep(1, 29), rep(0, 71),           rep(1, 37), rep(0, 63),           rep(1, 34), rep(0, 66) )dat$name <- as.factor(c(rep("C", 200), rep("J",200)))dat$grammar <- as.factor(rep(c("G", "B", "G", "B"), each = 100) )dt <- data.table(dat)
library(data.table)
dat <- data.frame(y       = rep(NA, 400),                  name    = rep(NA, 400),                  grammar = rep(NA, 400) )
dat <- data.frame(y       = rep(NA, 400),
name    = rep(NA, 400),
grammar = rep(NA, 400) )
dat$y <- c(rep(1, 52), rep(0, 48),
rep(1, 29), rep(0, 71),
rep(1, 37), rep(0, 63),
rep(1, 34), rep(0, 66) )
dat$name <- as.factor(c(rep("C", 200), rep("J",200)))
dat$grammar <- as.factor(rep(c("G", "B", "G", "B"), each = 100) )
dt <- data.table(dat)
dt
dt[, mean(y)]
dt[name == "C", mean(y)]
m <- lm(y ~ name == "C" + name == "J")
?I
lm(y ~ I(name == "C" & grammar == "G")  + I(name == "C" & grammar == "B"), data = d )
lm(y ~ I(name == "C" & grammar == "G")  + I(name == "C" & grammar == "B"), data = dt )
lm(y ~ I(name == "C" & grammar == "G")  + I(name == "C" & grammar == "B") +      I(name == "J" & grammar == "G") + I(name == "J" * grammar == "B"), data = dt )
lm(y ~ I(name == "C" & grammar == "G")  + I(name == "C" & grammar == "B") +      I(name == "J" & grammar == "G") + I(name == "J" & grammar == "B"), data = dt )
lm(y ~ I(name == "C" & grammar == "G")  + I(name == "C" & grammar == "B") + I(name == "J" & grammar == "G") + I(name == "J" & grammar == "B"), data = dt )
lm(y ~ 0 + I(name == "C" & grammar == "G")  + I(name == "C" & grammar == "B") + I(name == "J" & grammar == "G") + I(name == "J" & grammar == "B"), data = dt )
lm(y ~ 0 + I(name == "C" & grammar == "G")    + I(name == "C" & grammar == "B")    + I(name == "J" & grammar == "G")    + I(name == "J" & grammar == "B"), data = dt )
lm(y ~ 0 + I(name == "C" & grammar == "G")
+ I(name == "C" & grammar == "B")
+ I(name == "J" & grammar == "G")
+ I(name == "J" & grammar == "B"), data = dt )
lm(y ~ -1 + I(name == "C" & grammar == "G")
+ I(name == "C" & grammar == "B")
+ I(name == "J" & grammar == "G")
+ I(name == "J" & grammar == "B"), data = dt )
m <- lm(y ~ I(name == "C") + I(name == "J") + I()
dat <- data.frame(y       = rep(NA, 400),                  name    = rep(NA, 400),                  grammar = rep(NA, 400) )dat$y <- c(rep(1, 52), rep(0, 48),           rep(1, 29), rep(0, 71),           rep(1, 37), rep(0, 63),           rep(1, 34), rep(0, 66) )dat$name <- as.factor(c(rep("C", 200), rep("J",200)))dat$grammar <- as.factor(rep(c("G", "B", "G", "B"), each = 100) )dt <- data.table(dat)
dat <- data.frame(y       = rep(NA, 400),
name    = rep(NA, 400),
grammar = rep(NA, 400) )
dat$y <- c(rep(1, 52), rep(0, 48),
rep(1, 29), rep(0, 71),
rep(1, 37), rep(0, 63),
rep(1, 34), rep(0, 66) )
dat$name <- as.factor(c(rep("C", 200), rep("J",200)))
dat$grammar <- as.factor(rep(c("G", "B", "G", "B"), each = 100) )
dt <- data.table(dat)
library(data.table)
dt <- data.table(dat)
dt
mod <- lm(y ~ name + grammar + name * grammar, data = dt)
mod <- lm(y ~ name + grammar + name * grammar, data = dt)summary(mod)
mod <- lm(y ~ name + grammar + name * grammar, data = dt)
summary(mod)
library(stargazer)
name(d)
names(d)
d
names(d)
d
names(d)
d
d[ , previoiusFund]
d[ , previousFund]
d
d
names(d)
d[ , .(firstName)
]
d
2/50
.74 + .18
names(d)
d[ , .(requested, funded)]
q("no")
d
print(d, nrows = 1044)
]
c(.441*211, (1-.441)*211, .351*222, (1-.351)*222,
.423*334, (1-.423)*334, .372*277, (1-.372)*277)
round(c(.441*211, (1-.441)*211, .351*222, (1-.351)*222,
.423*334, (1-.423)*334, .372*277, (1-.372)*277))
d
summary(m1)
summary(m1)
summary(m2)
summary(m3)
se.ate(Y=d$Y)
D
d
cat(study1)
)
)
study1$se
summary(m1)
summary(m1)
summary(m2)
?ks.test
PATH
PATH
D
D
d
head(d)
dat
head(dat)
dat$math
dat
out1
out400
dev.off()
q("no")
setwd("/Users/douglashughes/Dropbox/1-Projects/Alex-Micah/County Registrar Experiment/replication_files/dataverse_files/")
install.packages("arm")
install.packages("memisc")
install.packages("apsrtable")
install.packages("xtable")
install.packages("erer")
install.package("MatchIt")
install.packages("MatchIt")
library(arm)
library(memisc)
library(apsrtable)
library(xtable)
library(texreg)
library(erer)
library(MatchIt)
library(arm)
library(memisc)
library(apsrtable)
library(xtable)
library(texreg)
library(erer)
library(MatchIt)
rm(list=ls())
setwd("/Users/douglashughes/Dropbox/1-Projects/Alex-Micah/County Registrar Experiment/replication_files/dataverse_files/")
load("voterIDexp_data_sept2014.Rdata")
#data <- newdata
data <- data[data$code!=41&data$code!=12,]
data <- data[data$week==1,]
library(data.table)
rm(list=ls())
setwd("/Users/douglashughes/Dropbox/1-Projects/Alex-Micah/County Registrar Experiment/replication_files/dataverse_files/")
data <- fread("voterIDexp_data_sept2014.Rdata")
getwd()
list.files()
data <- fread("voterIDexp_data_sept2014.tab")
#data <- newdata
data <- data[data$code!=41&data$code!=12,]
data <- data[data$week==1,]
summary <- data.frame()
summary[1,1] <- nrow(data[data$first_text==1&data$first_name_latino==1,])
summary[1,2] <- nrow(data[data$first_text==1&data$first_name_latino==0,])
summary[1,3] <- nrow(data[data$first_text==0&data$first_name_latino==1,])
summary[1,4] <- nrow(data[data$first_text==0&data$first_name_latino==0,])
colnames(summary) <- c("Latino Voter ID", "Non-Latino Voter ID", "Latino Control", "Non Latino Control")
summary[2,1] <- nrow(data[is.na(data$response)==TRUE & (data$first_text==1&data$first_name_latino==1),])
summary[2,2] <- nrow(data[is.na(data$response)==TRUE & (data$first_text==1&data$first_name_latino==0),])
summary[2,3] <- nrow(data[is.na(data$response)==TRUE & (data$first_text==0&data$first_name_latino==1),])
summary[2,4] <- nrow(data[is.na(data$response)==TRUE & (data$first_text==0&data$first_name_latino==0),])
summary[3,1] <- nrow(data[is.na(data$response)==FALSE & data$response==1 & (data$first_text==1&data$first_name_latino==1),])
d1 <- data[is.na(data$response)==FALSE & data$response==1 & (data$first_text==1&data$first_name_latino==1),]
summary[3,2] <- nrow(data[is.na(data$response)==FALSE & data$response==1 & (data$first_text==1&data$first_name_latino==0),])
d2 <- data[is.na(data$response)==FALSE & data$response==1 & (data$first_text==1&data$first_name_latino==0),]
summary[3,3] <- nrow(data[is.na(data$response)==FALSE & data$response==1 & (data$first_text==0&data$first_name_latino==1),])
d3 <- data[is.na(data$response)==FALSE & data$response==1 & (data$first_text==0&data$first_name_latino==1),]
summary[3,4] <- nrow(data[is.na(data$response)==FALSE & data$response==1 & (data$first_text==0&data$first_name_latino==0),])
d4 <- data[is.na(data$response)==FALSE & data$response==1 & (data$first_text==0&data$first_name_latino==0),]
summary[4,1] <- round(100*(summary[3,1] / (summary[1,1] - summary[2,1])), digits=1)
summary[4,2] <- round(100*(summary[3,2] / (summary[1,2] - summary[2,2])), digits=1)
summary[4,3] <- round(100*(summary[3,3] / (summary[1,3] - summary[2,3])), digits=1)
summary[4,4] <- round(100*(summary[3,4] / (summary[1,4] - summary[2,4])), digits=1)
summary[5,1] <- nrow(data[is.na(data$response)==FALSE & data$accuracy=="Absolutely accurate" & (data$first_text==1&data$first_name_latino==1),])
summary[5,2] <- nrow(data[is.na(data$response)==FALSE & data$accuracy=="Absolutely accurate" & (data$first_text==1&data$first_name_latino==0),])
summary[5,3] <- nrow(data[is.na(data$response)==FALSE & data$accuracy=="Absolutely accurate" & (data$first_text==0&data$first_name_latino==1),])
summary[5,4] <- nrow(data[is.na(data$response)==FALSE & data$accuracy=="Absolutely accurate" & (data$first_text==0&data$first_name_latino==0),])
summary[6,1] <- round(100*(summary[5,1] / summary[3,1]), digits=1)
summary[6,2] <- round(100*(summary[5,2] / summary[3,2]), digits=1)
summary[6,3] <- round(100*(summary[5,3] / summary[3,3]), digits=1)
summary[6,4] <- round(100*(summary[5,4] / summary[3,4]), digits=1)
summary[7,1] <- nrow(data[is.na(data$response)==FALSE & (data$accuracy=="General, but accurate"|data$accuracy=="Narrow, but accurate") & (data$first_text==1&data$first_name_latino==1),])
summary[7,2] <- nrow(data[is.na(data$response)==FALSE & (data$accuracy=="General, but accurate"|data$accuracy=="Narrow, but accurate") & (data$first_text==1&data$first_name_latino==0),])
summary[7,3] <- "--"
summary[7,4] <- "--"
summary[8,1] <- round(100*(summary[7,1] / summary[3,1]), digits=1)
summary[8,2] <- round(100*(summary[7,2] / summary[3,2]), digits=1)
summary[8,3] <- "--"
summary[8,4] <- "--"
summary[9,1] <- nrow(data[is.na(data$response)==FALSE & data$accuracy=="Non-informative response" & (data$first_text==1&data$first_name_latino==1),])
summary[9,2] <- nrow(data[is.na(data$response)==FALSE & data$accuracy=="Non-informative response" & (data$first_text==1&data$first_name_latino==0),])
summary[9,3] <- "--"
summary[9,4] <- "--"
summary[10,1] <- round(100*(summary[9,1] / summary[3,1]), digits=1)
summary[10,2] <- round(100*(summary[9,2] / summary[3,2]), digits=1)
summary[10,3] <- "--"
summary[10,4] <- "--"
summary[11,1] <- nrow(data[is.na(data$response)==FALSE & data$accuracy=="Contains inaccurate information" & (data$first_text==1&data$first_name_latino==1),])
summary[11,2] <- nrow(data[is.na(data$response)==FALSE & data$accuracy=="Contains inaccurate information" & (data$first_text==1&data$first_name_latino==0),])
summary[11,3] <- "--"
summary[11,4] <- "--"
summary[12,1] <- round(100*(summary[11,1] / summary[3,1]), digits=1)
summary[12,2] <- round(100*(summary[11,2] / summary[3,2]), digits=1)
summary[12,3] <- "--"
summary[12,4] <- "--"
summary[13,1] <- nrow(data[is.na(data$response)==FALSE & data$accuracy=="Ambiguous" & (data$first_text==1&data$first_name_latino==1),])
summary[13,2] <- nrow(data[is.na(data$response)==FALSE & data$accuracy=="Ambiguous" & (data$first_text==1&data$first_name_latino==0),])
summary[13,3] <- "--"
summary[13,4] <- "--"
summary[14,1] <- round(100*(summary[13,1] / summary[3,1]), digits=1)
summary[14,2] <- round(100*(summary[13,2] / summary[3,2]), digits=1)
summary[14,3] <- "--"
summary[14,4] <- "--"
summary[15,1] <- ifelse(is.na(table(d1$friendly)[2])==TRUE, 0, table(d1$friendly)[2])
summary[15,2] <- ifelse(is.na(table(d2$friendly)[2])==TRUE, 0, table(d2$friendly)[2])
summary[15,3] <- "--"
summary[15,4] <- "--"
summary[16,1] <- round(100*(summary[15,1] / summary[3,1]), digits=1)
summary[16,2] <- round(100*(summary[15,2] / summary[3,2]), digits=1)
summary[16,3] <- "--"
summary[16,4] <- "--"
summary[1,5] <- nrow(data[data$first_name_latino==1,])
summary[1,6] <- nrow(data[data$first_name_latino==0,])
summary[2,5] <- nrow(data[is.na(data$response)==TRUE & (data$first_name_latino==1),])
summary[2,6] <- nrow(data[is.na(data$response)==TRUE & (data$first_name_latino==0),])
summary[3,5] <- nrow(data[is.na(data$response)==FALSE & data$response==1 & (data$first_name_latino==1),])
d5 <- data[is.na(data$response)==FALSE & data$response==1 & (data$first_name_latino==1),]
summary[3,6] <- nrow(data[is.na(data$response)==FALSE & data$response==1 & (data$first_name_latino==0),])
d6 <- data[is.na(data$response)==FALSE & data$response==1 & (data$first_name_latino==0),]
summary[4,5] <- round(100*(summary[3,5] / (summary[1,5] - summary[2,5])), digits=1)
summary[4,6] <- round(100*(summary[3,6] / (summary[1,6] - summary[2,6])), digits=1)
summary[5,5] <- nrow(data[is.na(data$response)==FALSE & data$accuracy=="Absolutely accurate" & (data$first_name_latino==1),])
summary[5,6] <- nrow(data[is.na(data$response)==FALSE & data$accuracy=="Absolutely accurate" & (data$first_name_latino==0),])
summary[6,5] <- round(100*(summary[5,5] / summary[3,5]), digits=1)
summary[6,6] <- round(100*(summary[5,6] / summary[3,6]), digits=1)
summary[c(7:16),c(5:6)] <- "--"
colnames(summary) <- c("Latino Voter ID", "Non-Latino Voter ID", "Latino Control", "Non Latino Control", "Latino--All", "Non Latino--All")
d <- c("Emails sent", "Incorrect address", "No. responses",
"Response (%)",  "Accurate, abs.", "Accurate, abs. (%)",  "Accurate, gen. or narrow", "Accurate, gen. or narrow (%)", "Non-informative", "Non-informative (%)", "Inaccurate", "Inaccurate (%)", "Ambiguous", "Ambiguous (%)", "Friendly", "Friendly (%)")
rownames(summary) <- d
xtable(summary)
names(d)
names(data)
data$office[1:10]
